!function e(t,i,r){function o(n,s){if(!i[n]){if(!t[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(a)return a(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var p=i[n]={exports:{}};t[n][0].call(p.exports,function(e){var i=t[n][1][e];return o(i?i:e)},p,p.exports,e,t,i,r)}return i[n].exports}for(var a="function"==typeof require&&require,n=0;n<r.length;n++)o(r[n]);return o}({1:[function(e,t,i){var r=wp.media.controller.Library.extend({defaults:_.defaults({id:"ii",title:"Image Source",multiple:!1,menu:"default",router:"ii",toolbar:"ii-toolbar",searchable:!0,filterable:!1,sortable:!1,autoSelect:!0,describe:!1,contentUserSetting:!0,syncSelection:!1,priority:800,isImageCrate:!0},wp.media.controller.Library.prototype.defaults),initialize:function(){this.get("library")||this.set("library",wp.media.query({ii:!0})),wp.media.controller.Library.prototype.initialize.apply(this,arguments)}});t.exports=r},{}],2:[function(e,t,i){var r=e("./controllers/image-provider-controller.js"),o=e("./models/image-provider-photo-model.js"),a=wp.media.view.MediaFrame.Post.prototype.createStates,n=wp.media.view.MediaFrame.Select.prototype.bindHandlers,s=wp.media.view.Attachment.prototype.render;_.extend(wp.media.view.MediaFrame.prototype,{ii:{activate:function(){var e=_.first(this.views.get(".media-frame-router")),t={};t.usatoday={text:"USA Today Sports",priority:60},e.set(t),this.content.mode("usatoday")},createToolbar:function(){var e=this;this.toolbar.set(new wp.media.view.Toolbar({controller:this,items:{insert:{style:"primary",text:"Insert Image",priority:80,requires:{library:!0,selection:!0},click:function(){var t=e.state();t.get("selection");console.log("we made it!"),e.close()}}}}))},loadUSAT:function(){var e=this.state(),t=e.get("image_crate_photos");_.isUndefined(t)&&(t=new o(null,{props:{query:!0,category:"generic"}}),e.set("image_crate_photos",t));var e=this.state(),i=e.get("selection");this.content.set(new wp.media.view.AttachmentsBrowser({className:"image-crate attachments-browser",controller:this,collection:t,selection:i,model:e,filters:!1,date:!1,sidebar:!0,sortable:!1}))},loadGetty:function(){console.log("getty ready")}}}),wp.media.view.Attachment.prototype.render=function(){var e=this.options||{};"ii"==this.controller.state().get("id")&&(e.size=this.imageSize("full")),s.apply(this,arguments)},wp.media.view.MediaFrame.Select.prototype.bindHandlers=function(){n.apply(this,arguments),this.on("router:create:ii",this.createRouter,this),this.on("router:activate:ii",this.ii.activate,this),this.on("router:deactivate:ii",this.deactivate,this),this.on("toolbar:create:ii-toolbar",this.ii.createToolbar,this),this.on("content:render:getty",this.ii.loadGetty,this),this.on("content:render:usatoday",this.ii.loadUSAT,this)},wp.media.view.MediaFrame.Post.prototype.createStates=function(){a.apply(this,arguments),this.states.add(new r)}},{"./controllers/image-provider-controller.js":1,"./models/image-provider-photo-model.js":3}],3:[function(e,t,i){var r=e("./image-provider-photos-query"),o=wp.media.model.Attachments.extend({initialize:function(e,t){wp.media.model.Attachments.prototype.initialize.call(this,e,t),this.StockPhotosProps=new Backbone.Model,this.StockPhotosProps.set("importing",!1),this.StockPhotosProps.set("previewing",!1)},_requery:function(e){var t;this.props.get("query")&&(t=this.props.toJSON(),t.cache=!0!==e,this.mirror(r.get(t)))}});t.exports=o},{"./image-provider-photos-query":4}],4:[function(e,t,i){var r=wp.media.model.Query.extend({sync:function(e,t,i){var r;return i=i||{},i.context=this,i.data=_.extend(i.data||{},{action:"image_implementor_get"}),r=_.clone(this.args),-1!==r.posts_per_page&&(r.paged=Math.round(this.length/r.posts_per_page)+1),i.data.query=r,wp.media.ajax(i)}},{get:function(){var e=[];return function(t,i){var o,a=r,n={},s=!!t.cache||_.isUndefined(t.cache);return delete t.query,delete t.cache,_.each(t,function(e,t){_.isNull(e)||(n[t]=e)}),_.defaults(n,a.defaultArgs),s?o=_.find(e,function(e){return _.isEqual(e.args,n)}):e=[],o||(o=new a([],_.extend(i||{},{props:t,args:n})),e.push(o)),o}}()});t.exports=r},{}]},{},[2]);